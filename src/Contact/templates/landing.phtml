<?php
$this->layout('layout::layout', [
    'title'  => 'Contact',
    'layout' => 'medium',
]);
$this->start('scripts');
?>
<script src="https://www.google.com/recaptcha/api.js" async defer></script>
<?php $this->stop() ?>
<h2>Contact Me</h2>

<p>
    Feel free to contact me. Please note, however, that I likely will not 
    respond to recruiters, nor to questions that could be asked in public
    forums.
</p>

<?php if (isset($error)) : ?>
<p class="text-red-700 font-semibold">
    There were one or more isues with your submission. Please correct them as 
    indicated below.
</p>

<pre class="font-mono">
    <?= $this->escapeHtml($error['message']) ?>
</pre>
<?php endif ?>

<form class="bg-mwop-nav p-4 w-full rounded-lg" method="post" name="contact" action="<?= $this->url('contact.process') ?>" id="contact">
    <div class="form-group">
        <label class="block mb-2 font-semibold" for="from">From (email):</label>
        <input class="w-full mb-4 p-2 rounded border-mwop-bg bg-mwop-fg text-mwop-bg" type="text" name="from" value="" required="required">
    </div>

    <div class="form-group">
        <label class="block mb-2 font-semibold" for="subject">Subject:</label>
        <input class="w-full mb-4 p-2 rounded border-mwop-bg bg-mwop-fg text-mwop-bg" type="text" name="subject" value="" required="required">
    </div>

    <div class="form-group">
        <label class="block mb-2 font-semibold" for="body">Your message:</label>
        <textarea class="w-full h-48 mb-4 p-2 rounded border-mwop-bg bg-mwop-fg text-mwop-bg" name="body" required="required"></textarea>
    </div>

    <div
        class="form-group g-recaptcha my-4"
        data-sitekey="<?= $recaptcha_pub_key ?>"
        data-theme="dark"></div>

    <input type="hidden" name="csrf" value="<?= $csrf ?>">
    <button class="rounded p-2 bg-action-bg border-action-border text-mwop-bg hover:bg-action-active active:bg-action-active transition duration-300" type="submit" name="Send">Send</button>
</form>
